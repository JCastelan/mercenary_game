{{extend 'layout.html'}}
{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>
	// Define your URLs here.
	var check_logged_in_url = "{{=URL('api', 'check_logged_in', user_signature=True)}}";
</script>
{{end}}

<div class="main_content">
	<div id="vue-div" style="display:none">
		<div v-if="logged_in">
			<div class="container">
				<div class="quarter">
					<a v-if="viewing_resources" class="btn" v-on:click="toggle_view_pane()">Resources</a>
					<a v-if="!viewing_resources" class="btn" v-on:click="toggle_view_pane()">Band</a>
					<div v-if="!viewing_resources" v-for="member in band">
						Name: ${member.name}<br>
						Health: ${member.health}<br>
						Weapon: ${member.inventory.weapon.name}<br><br>
					</div>
				</div>
				<div class="threequarters" id="grid">this is a grid boi</div>
			</div>
			<div id="popup-event" v-if="show_popup">
				<a class="left btn" v-on:click="closePopup()">(Esc) Close</a>
				<input style="width:500px" class="not_padded center" :disabled="true" v-model="popup_title"></input>
				<input style="width:594px" class="not_padded" :disabled="true" v-model="popup_desc"></input>
				<br><br>
				<div v-for="button in popup_buttons">
					<a class="btn option_buttons" v-on:click="button.onClick()">${button.name}</a>
				</div>
				<br>
				<div v-if="in_battle">
					Your HP: ${get_band_health()}
				</div>
				<br>
				<div v-if="in_battle">
					Enemy HP: ${enemy_health}
				</div>
			</div>
			<script src="{{=URL('static', 'js/exploration.js')}}"></script>
			<script src="{{=URL('static', 'js/resource_management.js')}}"></script>
			<script src="{{=URL('static', 'js/button_stuff.js')}}"></script>
	
			<div class="container padded center">
				<div class="quarter">
					<h2>Click the button to increment the counter</h2>
					<a class="center btn large" href='javascript:clicked()'><tt>Click Me</tt></a>
				</div>
				<div class="threequarters">
					<h1 class="right" id="counter">0</h1>
				</div>
			</div>
		</div>
		<div v-if="!logged_in">
			<h1 class="main_title">Welcome!</h1>
			<p class="explanation">This game is about managing a mercenary band. Please log in to use it.</p>
			<div class="login_button">
				<a href="{{=URL('default', 'user')}}" class="btn">Login</a>
			</div>
		</div>
	</div>
</div>

<script src="{{=URL('static', 'js/default_index.js')}}"></script>